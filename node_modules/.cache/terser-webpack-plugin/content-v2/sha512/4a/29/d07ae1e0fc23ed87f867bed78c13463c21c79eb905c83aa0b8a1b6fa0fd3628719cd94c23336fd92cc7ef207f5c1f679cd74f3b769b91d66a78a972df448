{"map":"{\"version\":3,\"sources\":[\"/Users/luke.steiner/Downloads/Projects/stencil-cli/cornerstone/assets/js/theme/compare.js\",\"/Users/luke.steiner/Downloads/Projects/stencil-cli/cornerstone/assets/js/theme/global/compare-products.js\",\"/Users/luke.steiner/Downloads/Projects/stencil-cli/cornerstone/node_modules/lodash/map.js\"],\"names\":[\"Compare\",\"onReady\",\"_this\",\"this\",\"compareProducts\",\"context\",\"urls\",\"message\",\"compareRemoveMessage\",\"$\",\"on\",\"event\",\"comparisons\",\"length\",\"showAlertModal\",\"preventDefault\",\"PageManager\",\"updateCounterNav\",\"counter\",\"$link\",\"urlContext\",\"is\",\"addClass\",\"attr\",\"compare\",\"join\",\"find\",\"html\",\"removeClass\",\"__webpack_exports__\",\"products\",\"$checked\",\"$compareLink\",\"lodash_map__WEBPACK_IMPORTED_MODULE_1___default\",\"element\",\"value\",\"compareCounter\",\"item\",\"product\",\"currentTarget\",\"$clickedCompareLink\",\"checked\",\"push\",\"index\",\"indexOf\",\"splice\",\"decrementCounter\",\"module\",\"exports\",\"array\",\"iteratee\",\"result\",\"Array\"],\"mappings\":\"qLAIqBA,kLACjBC,QAAA,WAAU,IAAAC,EAAAC,KACNC,OAAAA,EAAAA,EAAAA,CAAgBD,KAAKE,QAAQC,MAE7B,IAAMC,EAAUJ,KAAKE,QAAQG,qBAE7BC,EAAE,QAAQC,GAAG,QAAS,2BAA4B,SAAAC,GAC1CT,EAAKG,QAAQO,YAAYC,QAAU,IACnCC,OAAAA,EAAAA,EAAAA,CAAeP,GACfI,EAAMI,wBATeC,EAAAA,uGCWrC,SAASC,EAAiBC,EAASC,EAAOC,GACf,IAAnBF,EAAQL,QACHM,EAAME,GAAG,YACVF,EAAMG,SAAS,QAEnBH,EAAMI,KAAK,OAAWH,EAAWI,QAAjC,IAA4CN,EAAQO,KAAK,MACzDN,EAAMO,KAAK,kBAAkBC,KAAKT,EAAQL,SAE1CM,EAAMS,YAAY,QAIXC,EAAA,EAAA,SAAUT,GACrB,IAAIU,EAEEC,EAAWtB,EAAE,QAAQiB,KAAK,oCAC1BM,EAAevB,EAAE,uBAEC,IAApBsB,EAASlB,QAGTI,EAFAa,EAAWG,GAAAA,CAAMF,EAAU,SAAAG,GAAO,OAAIA,EAAQC,QAEnBH,EAAcZ,GAG7C,IAAMgB,EAAiBN,GAAY,GAEnCrB,EAAE,QAAQC,GAAG,QAAS,oBAAqB,SAAAC,GACvC,IA/B2B0B,EA+BrBC,EAAU3B,EAAM4B,cAAcJ,MAC9BK,EAAsB/B,EAAE,uBAE1BE,EAAM4B,cAAcE,SAlCGJ,EAmCUC,EAAhBF,EAlCjBM,KAAKL,IATjB,SAA0BnB,EAASmB,GAC/B,IAAMM,EAAQzB,EAAQ0B,QAAQP,GAE1BM,GAAS,GACTzB,EAAQ2B,OAAOF,EAAO,GAyClBG,CAAiBV,EAAgBE,GAGrCrB,EAAiBmB,EAAgBI,EAAqBpB,KAG1DX,EAAE,QAAQC,GAAG,SAAU,yBAA0B,SAAAC,GAC/BF,EAAEE,EAAM4B,eACUb,KAAK,oCAEfb,QAAU,IAC5BC,OAAAA,EAAAA,EAAAA,CAAe,oDACfH,EAAMI,oBAIdN,EAAE,QAAQC,GAAG,QAAS,sBAAuB,WAGzC,GAF6BD,EAAE,QAAQiB,KAAK,oCAEnBb,QAAU,EAE/B,OADAC,OAAAA,EAAAA,EAAAA,CAAe,qDACR,0CCjDnBiC,EAAAC,QAXA,SAAAC,EAAAC,GAKA,IAJA,IAAAP,GAAA,EACA9B,EAAA,MAAAoC,EAAA,EAAAA,EAAApC,OACAsC,EAAAC,MAAAvC,KAEA8B,EAAA9B,GACAsC,EAAAR,GAAAO,EAAAD,EAAAN,GAAAA,EAAAM,GAEA,OAAAE\",\"sourcesContent\":[\"import PageManager from './page-manager';\\nimport { showAlertModal } from './global/modal';\\nimport compareProducts from './global/compare-products';\\n\\nexport default class Compare extends PageManager {\\n    onReady() {\\n        compareProducts(this.context.urls);\\n\\n        const message = this.context.compareRemoveMessage;\\n\\n        $('body').on('click', '[data-comparison-remove]', event => {\\n            if (this.context.comparisons.length <= 2) {\\n                showAlertModal(message);\\n                event.preventDefault();\\n            }\\n        });\\n    }\\n}\\n\",\"import _ from 'lodash';\\nimport { showAlertModal } from './modal';\\n\\nfunction decrementCounter(counter, item) {\\n    const index = counter.indexOf(item);\\n\\n    if (index > -1) {\\n        counter.splice(index, 1);\\n    }\\n}\\n\\nfunction incrementCounter(counter, item) {\\n    counter.push(item);\\n}\\n\\nfunction updateCounterNav(counter, $link, urlContext) {\\n    if (counter.length !== 0) {\\n        if (!$link.is('visible')) {\\n            $link.addClass('show');\\n        }\\n        $link.attr('href', `${urlContext.compare}/${counter.join('/')}`);\\n        $link.find('span.countPill').html(counter.length);\\n    } else {\\n        $link.removeClass('show');\\n    }\\n}\\n\\nexport default function (urlContext) {\\n    let products;\\n\\n    const $checked = $('body').find('input[name=\\\"products\\\\[\\\\]\\\"]:checked');\\n    const $compareLink = $('a[data-compare-nav]');\\n\\n    if ($checked.length !== 0) {\\n        products = _.map($checked, element => element.value);\\n\\n        updateCounterNav(products, $compareLink, urlContext);\\n    }\\n\\n    const compareCounter = products || [];\\n\\n    $('body').on('click', '[data-compare-id]', event => {\\n        const product = event.currentTarget.value;\\n        const $clickedCompareLink = $('a[data-compare-nav]');\\n\\n        if (event.currentTarget.checked) {\\n            incrementCounter(compareCounter, product);\\n        } else {\\n            decrementCounter(compareCounter, product);\\n        }\\n\\n        updateCounterNav(compareCounter, $clickedCompareLink, urlContext);\\n    });\\n\\n    $('body').on('submit', '[data-product-compare]', event => {\\n        const $this = $(event.currentTarget);\\n        const productsToCompare = $this.find('input[name=\\\"products\\\\[\\\\]\\\"]:checked');\\n\\n        if (productsToCompare.length <= 1) {\\n            showAlertModal('You must select at least two products to compare');\\n            event.preventDefault();\\n        }\\n    });\\n\\n    $('body').on('click', 'a[data-compare-nav]', () => {\\n        const $clickedCheckedInput = $('body').find('input[name=\\\"products\\\\[\\\\]\\\"]:checked');\\n\\n        if ($clickedCheckedInput.length <= 1) {\\n            showAlertModal('You must select at least two products to compare');\\n            return false;\\n        }\\n    });\\n}\\n\",\"/**\\n * A specialized version of `_.map` for arrays without support for iteratee\\n * shorthands.\\n *\\n * @private\\n * @param {Array} [array] The array to iterate over.\\n * @param {Function} iteratee The function invoked per iteration.\\n * @returns {Array} Returns the new mapped array.\\n */\\nfunction arrayMap(array, iteratee) {\\n  var index = -1,\\n      length = array == null ? 0 : array.length,\\n      result = Array(length);\\n\\n  while (++index < length) {\\n    result[index] = iteratee(array[index], index, array);\\n  }\\n  return result;\\n}\\n\\nmodule.exports = arrayMap;\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{242:function(t,n,e){\"use strict\";e.r(n),function(t){e.d(n,\"default\",function(){return r});var o=e(41),c=e(12),a=e(272);var r=function(n){var e,o;function r(){return n.apply(this,arguments)||this}return o=n,(e=r).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o,r.prototype.onReady=function(){var n=this;Object(a.a)(this.context.urls);var e=this.context.compareRemoveMessage;t(\"body\").on(\"click\",\"[data-comparison-remove]\",function(t){n.context.comparisons.length<=2&&(Object(c.c)(e),t.preventDefault())})},r}(o.a)}.call(this,e(0))},272:function(t,n,e){\"use strict\";(function(t){e(11);var o=e(276),c=e.n(o),a=e(12);function r(t,n,e){0!==t.length?(n.is(\"visible\")||n.addClass(\"show\"),n.attr(\"href\",e.compare+\"/\"+t.join(\"/\")),n.find(\"span.countPill\").html(t.length)):n.removeClass(\"show\")}n.a=function(n){var e,o=t(\"body\").find('input[name=\"products[]\"]:checked'),u=t(\"a[data-compare-nav]\");0!==o.length&&r(e=c()(o,function(t){return t.value}),u,n);var i=e||[];t(\"body\").on(\"click\",\"[data-compare-id]\",function(e){var o,c=e.currentTarget.value,a=t(\"a[data-compare-nav]\");e.currentTarget.checked?(o=c,i.push(o)):function(t,n){var e=t.indexOf(n);e>-1&&t.splice(e,1)}(i,c),r(i,a,n)}),t(\"body\").on(\"submit\",\"[data-product-compare]\",function(n){t(n.currentTarget).find('input[name=\"products[]\"]:checked').length<=1&&(Object(a.c)(\"You must select at least two products to compare\"),n.preventDefault())}),t(\"body\").on(\"click\",\"a[data-compare-nav]\",function(){if(t(\"body\").find('input[name=\"products[]\"]:checked').length<=1)return Object(a.c)(\"You must select at least two products to compare\"),!1})}}).call(this,e(0))},276:function(t,n){t.exports=function(t,n){for(var e=-1,o=null==t?0:t.length,c=Array(o);++e<o;)c[e]=n(t[e],e,t);return c}}}]);","extractedComments":[]}